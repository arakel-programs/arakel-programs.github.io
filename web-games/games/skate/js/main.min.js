function debounce(e,t,a){var i;return function(){var s=this,o=arguments,n=function(){i=null,a||e.apply(s,o)},r=a&&!i;clearTimeout(i),i=setTimeout(n,t),r&&e.apply(s,o)}}var GameState=function(e){};GameState.prototype.preload=function(){this.game.load.image("name","/assets/images/matt-b.png"),this.game.load.image("ground","/assets/images/groundblock.jpg"),this.game.load.image("player","/assets/images/skater.png"),this.game.load.image("background","/assets/images/cloud.png"),this.scale.scaleMode=Phaser.ScaleManager.SCALE},GameState.prototype.create=function(){for(var e=0;50>e;e++){var t=game.rnd.realInRange(-.5,2.2),a=game.add.sprite(4*game.world.randomX,1.5*game.world.randomY,"background");a.scale.setTo(t,t),a.alpha=.1*game.rnd.realInRange(0,8)}this.game.world.setBounds(0,0,4*document.getElementById("container").offsetWidth,2*document.getElementById("container").offsetHeight),this.MAX_SPEED=900,this.ACCELERATION=1200,this.DRAG=600,this.GRAVITY=2600,this.JUMP_SPEED=-700,this.player=this.game.add.sprite(this.game.width/2,this.game.height/2,"player"),this.player.anchor.setTo(.5),this.game.camera.follow(this.player),this.game.physics.enable(this.player,Phaser.Physics.ARCADE),this.player.body.collideWorldBounds=!0,this.player.body.maxVelocity.setTo(this.MAX_SPEED,10*this.MAX_SPEED),this.player.body.drag.setTo(this.DRAG,0),this.player.scale.setTo(.7),game.physics.arcade.gravity.y=this.GRAVITY,this.name=this.game.add.sprite(this.game.width,this.game.height/.8,"name"),this.name.scale.setTo(.5),this.name.anchor.setTo(.5,.4),this.jumping=!1,this.ground=this.game.add.group();for(var i=0;i<this.world.width;i+=.75*document.getElementById("container").offsetWidth){var s=this.game.add.sprite(i,this.world.height-Math.random()*(document.getElementById("container").offsetHeight/4),"ground");this.game.physics.enable(s,Phaser.Physics.ARCADE),s.body.immovable=!0,s.body.allowGravity=!1,s.scale.setTo(document.getElementById("container").offsetWidth,2),this.ground.add(s)}this.player.smoothed=!1,this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.UP,Phaser.Keyboard.DOWN])},GameState.prototype.update=function(){this.game.physics.arcade.collide(this.player,this.ground),this.leftInputIsActive()?(this.player.scale.setTo(-.7,.7),this.player.body.acceleration.x=-this.ACCELERATION):this.rightInputIsActive()?(this.player.scale.setTo(.7,.7),this.player.body.acceleration.x=this.ACCELERATION):this.player.body.acceleration.x=0;var e=this.player.body.touching.down;e&&(this.jumps=2,this.jumping=!1),this.jumps>0&&this.upInputIsActive(150)&&(this.player.body.velocity.y=this.JUMP_SPEED,this.jumping=!0),this.jumping&&this.upInputReleased()&&(this.jumps--,this.jumping=!1)},GameState.prototype.render=function(){},GameState.prototype.leftInputIsActive=function(){var e=!1;return e=this.input.keyboard.isDown(Phaser.Keyboard.LEFT),e|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x<this.game.width/4},GameState.prototype.rightInputIsActive=function(){var e=!1;return e=this.input.keyboard.isDown(Phaser.Keyboard.RIGHT),e|=this.game.input.activePointer.isDown&&this.game.input.activePointer.x>this.game.width/2+this.game.width/4},GameState.prototype.upInputIsActive=function(e){var t=!1;return t=this.input.keyboard.downDuration(Phaser.Keyboard.UP,e),t|=this.game.input.activePointer.justPressed(e+1e3/60)&&this.game.input.activePointer.x>this.game.width/4&&this.game.input.activePointer.x<this.game.width/2+this.game.width/4},GameState.prototype.upInputReleased=function(){var e=!1;return e=this.input.keyboard.upDuration(Phaser.Keyboard.UP),e|=this.game.input.activePointer.justReleased()};var game=new Phaser.Game(document.getElementById("container").offsetWidth,document.getElementById("container").offsetHeight,Phaser.AUTO,"container",!0,!0);game.state.add("game",GameState,!0);var myEfficientFn=debounce(function(){window.location.reload()},300);window.addEventListener("resize",myEfficientFn);